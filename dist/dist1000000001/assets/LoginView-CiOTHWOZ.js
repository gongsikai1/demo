import{d as U,r as i,o as h,c as E,i as _,t as f,f as e,w as o,B as g,u as N,l as y,j as a,P as L,Q as $,E as b}from"./index-DpYZfZlD.js";import{m as B}from"./md5-DkTxHsY_.js";import{A as v}from"./index-BHndqmlX.js";const C={class:"logins"},I={class:"login-text"},j=U({__name:"LoginView",setup(A){const l=i(""),r=i(""),p=N(),V=y(),w=()=>{localStorage.getItem("token")&&v.USER.NAME().then((t={name:""})=>{console.log("1",1),console.log("res.data",t.name),localStorage.setItem("name",t.name),p.commit("setUserName"),b({message:"登录成功",type:"success"}),V.push("/")})},k=()=>{v.USER.LOGIN({name:l.value,pass:B(r.value)}).then(({token:t})=>{localStorage.setItem("token",t),p.commit("setToken"),w()})};return(t,s)=>{const c=a("el-icon"),d=a("el-input"),u=a("el-col"),m=a("el-row"),S=a("el-button");return h(),E("div",C,[_("h1",I,f({cn:"会员登录",en:"Member Login"}[t.$store.state.lang]),1),e(m,{class:"name-row"},{default:o(()=>[e(u,{span:24},{default:o(()=>[e(d,{class:"user-input",modelValue:l.value,"onUpdate:modelValue":s[0]||(s[0]=n=>l.value=n),placeholder:{cn:"用户名",en:"Username"}[t.$store.state.lang]},{prepend:o(()=>[e(c,null,{default:o(()=>[e(g(L))]),_:1})]),_:1},8,["modelValue","placeholder"])]),_:1})]),_:1}),e(m,{class:"pass-row"},{default:o(()=>[e(u,{span:24},{default:o(()=>[e(d,{class:"pass-input",modelValue:r.value,"onUpdate:modelValue":s[1]||(s[1]=n=>r.value=n),placeholder:{cn:"密码",en:"Password"}[t.$store.state.lang]},{prepend:o(()=>[e(c,null,{default:o(()=>[e(g($))]),_:1})]),_:1},8,["modelValue","placeholder"])]),_:1})]),_:1}),e(m,null,{default:o(()=>[e(u,{span:24},{default:o(()=>[e(S,{class:"login-button",type:"primary",onClick:s[2]||(s[2]=n=>k(1))},{default:o(()=>[_("span",null,f({cn:"登录",en:"Login"}[t.$store.state.lang]),1)]),_:1})]),_:1})]),_:1})])}}});export{j as default};
