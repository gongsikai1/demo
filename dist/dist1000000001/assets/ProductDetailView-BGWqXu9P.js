import{d as H,r as g,b as q,o as s,c as b,f as t,w as o,F as V,h as A,e as d,i as U,t as D,g as i,a as p,l as z,k as G,j as c,_ as K}from"./index-DpYZfZlD.js";import{A as _}from"./index-BHndqmlX.js";const Q={class:"about"},W=["href"],X=["href"],Y=H({__name:"ProductDetailView",setup(Z){const y=z(),C=G(),n=g({}),f=g(1),h=g(""),k=g({}),I=g({}),m=g(""),M=()=>{console.log("route",C.params.uuid),_.PRODUCT.DETAIL({uuid:C.params.uuid}).then(l=>{console.log("res",l),n.value={...l,title:decodeURIComponent(l.title),image_urls:decodeURIComponent(l.image_urls),image_urls_more:decodeURIComponent(l.image_urls_more)}})},S=l=>{console.log("val",l)},T=()=>{console.log("amount",f.value),_.PRODUCT.DETAIL({uuid:C.params.uuid}).then(l=>{_.CART.ADD({shop_uuid:l.shop_uuid,product_uuid:C.params.uuid,color_uuid:m.value,amount:f.value}).then(e=>{console.log("res",e),y.push("/cart")})})},w=()=>{y.push("/cart")},L=l=>{h.value=l},$=l=>{document.body.style.cursor=l},F=()=>{y.push(`/chat/${n.value.shop_uuid}`)},P=()=>{_.PRODUCT.DETAIL({uuid:C.params.uuid}).then(l=>{_.USER.NAME({uuid:l.shop_uuid}).then(e=>{console.log("res",e),k.value=e}),x({concern_uuid:l.shop_uuid}),console.log("res",res)})},E=({concern_uuid:l})=>{_.FEN.ADD({concern_uuid:l}).then(e=>{console.log("res",e),x({concern_uuid:l})})},x=({concern_uuid:l})=>{_.FEN.DETAIL({concern_uuid:l}).then(e=>{I.value=e,console.log("res",e)})},B=({uuid:l})=>{m.value===l?(console.log("colors.value",m.value),console.log("uuid",l),m.value=""):m.value=l};return q(()=>{M(),P()}),(l,e)=>{const N=c("el-image"),r=c("el-row"),a=c("el-col"),v=c("el-button"),J=c("el-radio-button"),j=c("el-radio-group"),O=c("el-input-number");return s(),b("div",Q,[t(r,null,{default:o(()=>[t(a,{span:8},{default:o(()=>[t(r,null,{default:o(()=>[t(N,{src:h.value||JSON.parse(n.value.image_urls||"[]")[0],onMouseenter:e[0]||(e[0]=u=>$("pointer")),onMouseleave:e[1]||(e[1]=u=>$("default"))},null,8,["src"])]),_:1}),t(r,null,{default:o(()=>[(s(!0),b(V,null,A(JSON.parse(n.value.image_urls||"[]"),u=>(s(),d(a,{span:4},{default:o(()=>[t(N,{src:u,width:"50",height:"50",class:"little-image",onClick:R=>L(u),onMouseenter:e[2]||(e[2]=R=>$("pointer")),onMouseleave:e[3]||(e[3]=R=>$("default"))},null,8,["src","onClick"])]),_:2},1024))),256))]),_:1})]),_:1}),t(a,{span:16,class:"product-detail-text"},{default:o(()=>[n.value.shop_uuid&&k.value.name&&l.$store.state.lang==="cn"?(s(),d(r,{key:0,class:"shop-title"},{default:o(()=>[t(a,{span:4},{default:o(()=>[U("a",{href:`/shop/${n.value.shop_uuid}/product/list`},D(decodeURIComponent(k.value.name)),9,W)]),_:1}),n.value.shop_uuid&&!I.value.concern_uuid?(s(),d(a,{key:0,span:4},{default:o(()=>[t(v,{onClick:e[4]||(e[4]=u=>E({concern_uuid:n.value.shop_uuid}))},{default:o(()=>e[14]||(e[14]=[i("立即关注")])),_:1})]),_:1})):p("",!0)]),_:1})):p("",!0),n.value.shop_uuid&&k.value.name&&l.$store.state.lang==="en"?(s(),d(r,{key:1,class:"shop-title"},{default:o(()=>[t(a,{span:4},{default:o(()=>[U("a",{href:`/shop/${n.value.shop_uuid}/product/list`},D(decodeURIComponent(k.value.name)),9,X)]),_:1}),n.value.shop_uuid&&!I.value.concern_uuid?(s(),d(a,{key:0,span:4},{default:o(()=>[t(v,{onClick:e[5]||(e[5]=u=>E({concern_uuid:n.value.shop_uuid}))},{default:o(()=>e[15]||(e[15]=[i("Follow Immediately")])),_:1})]),_:1})):p("",!0)]),_:1})):p("",!0),t(r,{class:"product-detail-title"},{default:o(()=>[i(D(n.value.title),1)]),_:1}),m.value?p("",!0):(s(),d(r,{key:2,class:"product-detail-price"},{default:o(()=>[U("p",null,"¥ "+D(Number.parseFloat(n.value.price/100).toFixed(2)),1)]),_:1})),t(r,{style:{"margin-top":"20px","margin-bottom":"20px"}},{default:o(()=>[t(j,{"model-value":m.value},{default:o(()=>[(s(!0),b(V,null,A(JSON.parse(decodeURIComponent(n.value.colors||"[]")||"[]"),u=>(s(),d(J,{label:`${u.value} ¥ ${Number.parseFloat(u.price/100).toFixed(2)}`,value:u.uuid,onClick:R=>B({uuid:u.uuid})},null,8,["label","value","onClick"]))),256))]),_:1},8,["model-value"])]),_:1}),l.$store.state.lang==="cn"?(s(),d(r,{key:3},{default:o(()=>[t(a,{class:"product-detail-amount"},{default:o(()=>[t(O,{modelValue:f.value,"onUpdate:modelValue":e[6]||(e[6]=u=>f.value=u),min:1,max:10,onChange:S},null,8,["modelValue"])]),_:1}),t(a,{class:"product-detail-add-cart"},{default:o(()=>[t(v,{onClick:e[7]||(e[7]=u=>T()),disabled:!m.value},{default:o(()=>e[16]||(e[16]=[i("加入购物车")])),_:1},8,["disabled"])]),_:1}),t(a,null,{default:o(()=>[t(v,{onClick:e[8]||(e[8]=u=>w())},{default:o(()=>e[17]||(e[17]=[i("查看购物车")])),_:1})]),_:1}),n.value.shop_uuid?(s(),d(a,{key:0,class:"contant-customer-service"},{default:o(()=>[t(v,{onClick:e[9]||(e[9]=u=>F())},{default:o(()=>e[18]||(e[18]=[i("联系客服")])),_:1})]),_:1})):p("",!0)]),_:1})):p("",!0),l.$store.state.lang==="en"?(s(),d(r,{key:4},{default:o(()=>[t(a,{class:"product-detail-amount"},{default:o(()=>[t(O,{modelValue:f.value,"onUpdate:modelValue":e[10]||(e[10]=u=>f.value=u),min:1,max:10,onChange:S},null,8,["modelValue"])]),_:1}),t(a,{class:"product-detail-add-cart"},{default:o(()=>[t(v,{onClick:e[11]||(e[11]=u=>T())},{default:o(()=>e[19]||(e[19]=[i("Add To Cart")])),_:1})]),_:1}),t(a,null,{default:o(()=>[t(v,{onClick:e[12]||(e[12]=u=>w())},{default:o(()=>e[20]||(e[20]=[i("View The Shopping Cart")])),_:1})]),_:1}),n.value.shop_uuid?(s(),d(a,{key:0,class:"contant-customer-service"},{default:o(()=>[t(v,{onClick:e[13]||(e[13]=u=>F())},{default:o(()=>e[21]||(e[21]=[i("Contact Customer Service")])),_:1})]),_:1})):p("",!0)]),_:1})):p("",!0)]),_:1})]),_:1}),t(r,null,{default:o(()=>[(s(!0),b(V,null,A(JSON.parse(n.value.image_urls_more||"[]"),u=>(s(),d(a,null,{default:o(()=>[t(N,{src:u},null,8,["src"])]),_:2},1024))),256))]),_:1})])}}}),le=K(Y,[["__scopeId","data-v-44eb8c4b"]]);export{le as default};
