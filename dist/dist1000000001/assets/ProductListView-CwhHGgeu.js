import{d as C,r as e,b as S,o as l,c as d,F as m,h as f,e as g,w as t,i as r,f as n,t as h,u as v,j as i}from"./index-DpYZfZlD.js";import{l as w}from"./lodash-BoxlOHhu.js";import{A as _}from"./index-BHndqmlX.js";const N=["href"],y=["src"],T=C({__name:"ProductListView",setup(A){v();const x=e("");e(""),e([]),e({});const k=e([]),p=e([]);e("first"),localStorage.getItem("token");const L=()=>{_.BANNER.LIST({banner_uuid:"88787056-7ac6-4fde-bf8e-2f1e830a7bc8"}).then(o=>{console.log("res",o),k.value=o})},I=()=>{_.PRODUCT.LIST({is_home:!1}).then(o=>{console.log("res",w.chunk(o,4)),p.value=w.chunk(o.map(a=>({...a,title:decodeURIComponent(a.title),image_url:decodeURIComponent(a.image_url)})),4)})};return S(()=>{x.value=localStorage.getItem("token"),console.log("the component is now mounted."),console.log("API",_),L(),I()}),(o,a)=>{const c=i("el-col"),u=i("el-row"),b=i("el-card");return l(),d("main",null,[(l(!0),d(m,null,f(p.value,B=>(l(),g(u,null,{default:t(()=>[(l(!0),d(m,null,f(B,s=>(l(),g(c,{span:6},{default:t(()=>[r("a",{href:`/product/${s.uuid}`,style:{margin:"0 20px"}},[n(b,{style:{"max-width":"480px"}},{default:t(()=>[r("img",{src:s.image_url,style:{width:"100%"},class:"el-image",width:"263px",height:"263px"},null,8,y),n(u,null,{default:t(()=>[n(c,null,{default:t(()=>[r("p",null,h(s.title),1)]),_:2},1024)]),_:2},1024),n(u,null,{default:t(()=>[n(c,null,{default:t(()=>[r("p",null,"Â¥ "+h(Number.parseFloat(s.price/100).toFixed(2)),1)]),_:2},1024)]),_:2},1024)]),_:2},1024)],8,N)]),_:2},1024))),256))]),_:2},1024))),256))])}}});export{T as default};
